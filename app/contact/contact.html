<section layout="row" class="topic-section">
    <studycom-sidenav></studycom-sidenav>
    <section layout="column" flex="100">
        <div class="topic-name" layout="row" layout-align="space-between center">
            <h1>{{contact.name}}</h1>
            <md-button ng-click="deleteUser()">
                <md-icon md-svg-src="icons/clear.svg"></md-icon>
                <md-tooltip>Supprimer ce contact</md-tooltip>
            </md-button>
        </div>
        <div class="topic-view" layout="row">
            <div class="topic-feed" flex="grow" scroll-glue>

                <md-grid-list md-cols="1" md-row-height="200px">
                    <md-grid-tile ng-repeat="message in messages">
                        <div layout="row" flex="100" layout-align="{{leftOrRight(message)}}">
                            <md-card class="topic-message-card {{authMessage(message)}}" flex="40">
                                <md-card-header layout="row" layout-align="space-around center">
                                    <md-card-avatar>
                                        <img class="md-user-avatar" src="img/avatar.png">
                                    </md-card-avatar>
                                    <md-card-title>
                                        <p>
                                            <a ng-click="openUserProfileModal(message.idAuthor)">{{message.name}}</a>
                                        </p>
                                    </md-card-title>
                                </md-card-header>
                                <md-divider></md-divider>
                                <md-card-content>
                                    <p class="message-text">{{message.text}}</p>
                                </md-card-content>
                                <md-divider></md-divider>
                                <md-card-content class="message-infos" layout="row" layout-align="space-between center">
                                    <p class="message-date">{{message.dateCreation | date : format : timezone}}</p>
                                    <md-icon class="message-valid-send" md-svg-src="icons/done.svg"></md-icon>
                                </md-card-content>
                            </md-card>
                        </div>
                    </md-grid-tile>
                </md-grid-list>

            </div>
        </div>
        <md-divider></md-divider>

        <div layout="row" layout-align="space-between center" class="topic-response-bar md-padding" md-whiteframe="8">
            <md-input-container class="message-container" flex="grow">
                <textarea md-maxlength="200" aria-label="message" ng-model="message"></textarea>
            </md-input-container>
            <md-button class="topic-send-message-button" ng-click="addMessage()" ng-disabled="message==''">
                <md-icon md-svg-src="icons/chat_bubble_white.svg"></md-icon>
                <md-tooltip md-direction="top">Envoyer un message</md-tooltip>
            </md-button>

        </div>

    </section>
</section>